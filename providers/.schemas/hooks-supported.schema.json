{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "$id": "https://agentic-primitives.dev/schemas/hooks-supported.json",
  "title": "Hooks Supported Configuration",
  "description": "Schema for defining supported hook events in agent providers",
  "type": "object",
  "required": [
    "agent",
    "version",
    "supported_events"
  ],
  "properties": {
    "agent": {
      "type": "string",
      "pattern": "^[a-z0-9-]+$",
      "description": "Agent identifier"
    },
    "version": {
      "type": "string",
      "description": "Configuration version"
    },
    "supported_events": {
      "type": "array",
      "minItems": 1,
      "uniqueItems": true,
      "description": "List of supported hook events",
      "items": {
        "type": "string",
        "enum": [
          "PreToolUse",
          "PostToolUse",
          "UserPromptSubmit",
          "Stop",
          "SubagentStop",
          "SessionStart",
          "SessionEnd",
          "PreCompact",
          "Notification",
          "PermissionRequest"
        ]
      }
    },
    "event_config": {
      "type": "object",
      "description": "Event-specific configuration",
      "patternProperties": {
        "^(PreToolUse|PostToolUse|UserPromptSubmit|Stop|SubagentStop|SessionStart|SessionEnd|PreCompact|Notification|PermissionRequest)$": {
          "type": "object",
          "required": [
            "requires_matcher",
            "decision_control"
          ],
          "properties": {
            "requires_matcher": {
              "type": "boolean",
              "description": "Whether event requires a matcher"
            },
            "decision_control": {
              "type": "boolean",
              "description": "Whether hook can modify/block event"
            },
            "description": {
              "type": "string",
              "description": "Event description"
            },
            "matchers": {
              "type": "array",
              "items": {
                "type": "string"
              },
              "description": "Available matchers for this event"
            }
          }
        }
      },
      "additionalProperties": false
    }
  }
}