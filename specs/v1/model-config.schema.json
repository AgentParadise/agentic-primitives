{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "$id": "https://agentic-primitives.dev/specs/v1/model-config.schema.json",
  "specVersion": "v1",
  "title": "Model Configuration Schema (v1)",
  "description": "Schema for AI model configuration files (provider-specific models)",
  "type": "object",
  "required": ["id", "full_name", "api_name", "provider", "capabilities", "performance", "pricing"],
  "additionalProperties": false,
  "properties": {
    "id": {
      "type": "string",
      "pattern": "^[a-z0-9]+(-[a-z0-9]+)*$",
      "minLength": 2,
      "maxLength": 64,
      "description": "Model identifier in kebab-case (must match filename without .yaml)",
      "examples": ["sonnet", "opus", "haiku", "gpt-codex", "o1"]
    },
    "full_name": {
      "type": "string",
      "minLength": 3,
      "maxLength": 128,
      "description": "Human-readable model name",
      "examples": ["Claude 3.5 Sonnet", "GPT-4 Turbo", "O1 Preview"]
    },
    "api_name": {
      "type": "string",
      "minLength": 3,
      "maxLength": 128,
      "description": "Official API identifier used by the provider",
      "examples": ["claude-3-5-sonnet-20241022", "gpt-4-turbo-2024-11-20", "o1-preview"]
    },
    "version": {
      "type": "string",
      "description": "Model version or release date",
      "examples": ["20241022", "2024-11-20", "preview"]
    },
    "provider": {
      "type": "string",
      "enum": ["claude", "openai", "cursor", "gemini"],
      "description": "Provider that offers this model"
    },
    "capabilities": {
      "type": "object",
      "required": ["max_tokens", "context_window"],
      "additionalProperties": false,
      "description": "Technical capabilities of this model",
      "properties": {
        "max_tokens": {
          "type": "integer",
          "minimum": 1,
          "description": "Maximum output tokens in a single response"
        },
        "context_window": {
          "type": "integer",
          "minimum": 1,
          "description": "Maximum total tokens (input + output)"
        },
        "supports_vision": {
          "type": "boolean",
          "description": "Can process images",
          "default": false
        },
        "supports_function_calling": {
          "type": "boolean",
          "description": "Can use tools/functions",
          "default": false
        },
        "supports_streaming": {
          "type": "boolean",
          "description": "Supports streaming responses",
          "default": true
        },
        "supports_json_mode": {
          "type": "boolean",
          "description": "Can output structured JSON",
          "default": false
        },
        "supports_system_messages": {
          "type": "boolean",
          "description": "Supports system-level instructions",
          "default": true
        }
      }
    },
    "performance": {
      "type": "object",
      "required": ["speed", "quality"],
      "additionalProperties": false,
      "description": "Performance characteristics",
      "properties": {
        "speed": {
          "type": "string",
          "enum": ["very-fast", "fast", "medium", "slow"],
          "description": "Response latency"
        },
        "quality": {
          "type": "string",
          "enum": ["very-high", "high", "medium", "low"],
          "description": "Output quality and accuracy"
        },
        "reliability": {
          "type": "string",
          "enum": ["very-high", "high", "medium", "low"],
          "description": "Consistency and uptime",
          "default": "high"
        },
        "tokens_per_second": {
          "type": "number",
          "minimum": 0,
          "description": "Average output tokens per second"
        }
      }
    },
    "pricing": {
      "type": "object",
      "required": ["input_per_1m_tokens", "output_per_1m_tokens", "currency"],
      "additionalProperties": false,
      "description": "Pricing information",
      "properties": {
        "input_per_1m_tokens": {
          "type": "number",
          "minimum": 0,
          "description": "Cost per 1 million input tokens"
        },
        "output_per_1m_tokens": {
          "type": "number",
          "minimum": 0,
          "description": "Cost per 1 million output tokens"
        },
        "currency": {
          "type": "string",
          "enum": ["USD", "EUR", "GBP"],
          "description": "Currency for pricing",
          "default": "USD"
        },
        "batch_discount": {
          "type": "number",
          "minimum": 0,
          "maximum": 1,
          "description": "Discount factor for batch processing (0.0 = no discount, 0.5 = 50% off)"
        },
        "notes": {
          "type": "string",
          "description": "Additional pricing notes or caveats"
        }
      }
    },
    "strengths": {
      "type": "array",
      "items": {
        "type": "string",
        "minLength": 3
      },
      "minItems": 1,
      "uniqueItems": true,
      "description": "What this model is particularly good at",
      "examples": [
        ["Code generation", "Long context reasoning", "Instruction following"],
        ["Creative writing", "Complex analysis", "Multi-step planning"]
      ]
    },
    "recommended_for": {
      "type": "array",
      "items": {
        "type": "string",
        "minLength": 3
      },
      "minItems": 1,
      "uniqueItems": true,
      "description": "Use cases where this model excels",
      "examples": [
        ["agents", "commands", "complex reasoning"],
        ["meta-prompts", "planning", "analysis"]
      ]
    },
    "limitations": {
      "type": "array",
      "items": {
        "type": "string",
        "minLength": 3
      },
      "uniqueItems": true,
      "description": "Known limitations or weaknesses"
    },
    "notes": {
      "type": "string",
      "description": "Additional notes, tips, or context about this model"
    },
    "deprecated": {
      "type": "boolean",
      "description": "Whether this model is deprecated",
      "default": false
    },
    "replacement": {
      "type": "string",
      "pattern": "^[a-z0-9-]+/[a-z0-9-]+$",
      "description": "Recommended replacement model (provider/model format)"
    },
    "last_updated": {
      "type": "string",
      "format": "date",
      "description": "When this config was last updated (YYYY-MM-DD)"
    }
  },
  "examples": [
    {
      "id": "sonnet",
      "full_name": "Claude 3.5 Sonnet",
      "api_name": "claude-3-5-sonnet-20241022",
      "version": "20241022",
      "provider": "claude",
      "capabilities": {
        "max_tokens": 200000,
        "context_window": 200000,
        "supports_vision": true,
        "supports_function_calling": true,
        "supports_streaming": true,
        "supports_json_mode": true,
        "supports_system_messages": true
      },
      "performance": {
        "speed": "fast",
        "quality": "very-high",
        "reliability": "very-high",
        "tokens_per_second": 80
      },
      "pricing": {
        "input_per_1m_tokens": 3.0,
        "output_per_1m_tokens": 15.0,
        "currency": "USD",
        "notes": "Pricing as of November 2024"
      },
      "strengths": [
        "Code generation and debugging",
        "Long context reasoning",
        "Instruction following",
        "Structured output",
        "Multi-modal understanding"
      ],
      "recommended_for": [
        "agents",
        "commands",
        "complex reasoning",
        "code-heavy tasks",
        "long conversations"
      ],
      "limitations": [
        "May be verbose in responses",
        "Slightly higher latency than Haiku"
      ],
      "notes": "Balanced model for most agentic tasks. Best choice for general-purpose agents and commands requiring high quality output.",
      "last_updated": "2024-11-13"
    },
    {
      "id": "gpt-codex",
      "full_name": "GPT-4 Turbo",
      "api_name": "gpt-4-turbo-2024-11-20",
      "version": "2024-11-20",
      "provider": "openai",
      "capabilities": {
        "max_tokens": 128000,
        "context_window": 128000,
        "supports_vision": true,
        "supports_function_calling": true,
        "supports_streaming": true,
        "supports_json_mode": true,
        "supports_system_messages": true
      },
      "performance": {
        "speed": "fast",
        "quality": "high",
        "reliability": "high",
        "tokens_per_second": 60
      },
      "pricing": {
        "input_per_1m_tokens": 10.0,
        "output_per_1m_tokens": 30.0,
        "currency": "USD"
      },
      "strengths": [
        "Code generation",
        "Multi-modal understanding",
        "Function calling",
        "Structured outputs"
      ],
      "recommended_for": [
        "agents",
        "commands",
        "code-heavy tasks",
        "vision tasks"
      ],
      "notes": "Strong alternative to Claude Sonnet. Excellent for code generation and multi-modal tasks.",
      "last_updated": "2024-11-13"
    },
    {
      "id": "haiku",
      "full_name": "Claude 3 Haiku",
      "api_name": "claude-3-haiku-20240307",
      "version": "20240307",
      "provider": "claude",
      "capabilities": {
        "max_tokens": 200000,
        "context_window": 200000,
        "supports_vision": true,
        "supports_function_calling": true,
        "supports_streaming": true
      },
      "performance": {
        "speed": "very-fast",
        "quality": "medium",
        "reliability": "very-high",
        "tokens_per_second": 120
      },
      "pricing": {
        "input_per_1m_tokens": 0.25,
        "output_per_1m_tokens": 1.25,
        "currency": "USD"
      },
      "strengths": [
        "Speed and efficiency",
        "Cost-effectiveness",
        "Simple tasks",
        "High throughput"
      ],
      "recommended_for": [
        "skills",
        "simple commands",
        "rapid iteration",
        "high-volume tasks"
      ],
      "limitations": [
        "Lower quality on complex tasks",
        "Less capable reasoning"
      ],
      "notes": "Best for simple, high-volume tasks where speed and cost matter more than sophistication.",
      "last_updated": "2024-11-13"
    }
  ]
}

