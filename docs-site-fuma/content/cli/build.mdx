---
title: agentic-p build
description: Generate provider-specific output
---

import { Accordions, Accordion } from 'fumadocs-ui/components/accordion';
import { Step, Steps } from 'fumadocs-ui/components/steps';

## Overview

The `build` command transforms your primitives into provider-specific formats, ready for deployment.

## Usage

```bash
agentic-p build [OPTIONS]
```

## Options

| Option | Description | Default |
|--------|-------------|---------|
| `-p, --provider <NAME>` | Target provider: `claude`, `openai`, `cursor` | Required |
| `-o, --output <DIR>` | Output directory | `build/<provider>` |
| `--primitives <PATH>` | Path to primitives | `./primitives` |
| `-t, --type <TYPE>` | Only build specific type | All |
| `--clean` | Clean output directory first | `false` |
| `--dry-run` | Show what would be built | `false` |
| `-v, --verbose` | Detailed output | `false` |

## Examples

### Basic Usage

```bash
# Build for Claude
agentic-p build --provider claude

# Build for OpenAI
agentic-p build --provider openai

# Build for Cursor
agentic-p build --provider cursor
```

### With Options

```bash
# Custom output directory
agentic-p build --provider claude --output dist/claude

# Only build hooks
agentic-p build --provider claude --type hook

# Clean and rebuild
agentic-p build --provider claude --clean

# Preview build
agentic-p build --provider claude --dry-run --verbose
```

## Output Structure

### Claude Output

```
build/claude/
├── .agentic-manifest.yaml      # Manifest for primitive tracking
├── hooks/
│   ├── hooks.json              # Hook configuration
│   ├── core/
│   │   └── session-tracker.py
│   ├── security/
│   │   ├── bash-validator.py
│   │   └── file-security.py
│   └── analytics/
│       └── event-logger.py
├── commands/
│   ├── qa/
│   │   └── review.md
│   └── meta/
│       └── prompt-builder.md
├── agents/
│   └── python/
│       └── python-pro.md
└── skills/
    └── testing/
        └── pytest-patterns.md
```

### OpenAI Output

```
build/openai/
├── functions/
│   └── run-tests.json          # Function definitions
├── system-prompts/
│   ├── python-pro.txt
│   └── review.txt
└── assistant-config.json       # Assistant configuration
```

## Generated Files

### hooks.json (Claude)

```json
{
  "hooks": {
    "PreToolUse": [
      {
        "name": "bash-validator",
        "path": "./hooks/security/bash-validator.py",
        "matcher": {
          "tool_names": ["Bash", "Shell"]
        }
      },
      {
        "name": "file-security",
        "path": "./hooks/security/file-security.py",
        "matcher": {
          "tool_names": ["Read", "Write", "Edit"]
        }
      }
    ],
    "UserPromptSubmit": [
      {
        "name": "prompt-filter",
        "path": "./hooks/security/prompt-filter.py"
      }
    ],
    "SessionStart": [
      {
        "name": "session-tracker",
        "path": "./hooks/core/session-tracker.py"
      }
    ]
  }
}
```

### .agentic-manifest.yaml

```yaml
# Generated by agentic-p build
# DO NOT EDIT - Changes will be overwritten

spec_version: "v1"
generated_at: "2025-12-09T10:30:00Z"
provider: claude

primitives:
  - type: agent
    name: python-pro
    version: 2
    hash: blake3:a7ffc6f8...
    path: agents/python/python-pro.md

  - type: hook
    name: bash-validator
    version: 1
    hash: blake3:9f86d081...
    path: hooks/security/bash-validator.py

  # ... more primitives
```

## Build Process

<Steps>
  <Step>
    ### Validate
    All primitives are validated before building.
  </Step>
  <Step>
    ### Transform
    Each primitive is transformed to the provider's format.
  </Step>
  <Step>
    ### Organize
    Output is organized by type and category.
  </Step>
  <Step>
    ### Generate Manifest
    A manifest tracks which primitives were built.
  </Step>
</Steps>

## Dry Run

Preview what would be built without creating files:

```bash
agentic-p build --provider claude --dry-run --verbose
```

```
Dry run - No files will be written

Would build:
  ✓ agents/python/python-pro → build/claude/agents/python/python-pro.md
  ✓ commands/qa/review → build/claude/commands/qa/review.md
  ✓ hooks/security/bash-validator → build/claude/hooks/security/bash-validator.py
  ✓ hooks/security/file-security → build/claude/hooks/security/file-security.py
  ✓ Generate hooks.json → build/claude/hooks/hooks.json
  ✓ Generate .agentic-manifest.yaml → build/claude/.agentic-manifest.yaml

Total: 6 files would be created
```

## Provider-Specific Transformations

### Claude

- Prompts → Markdown files
- Hooks → Python middleware with hooks.json
- Tools → MCP server configurations

### OpenAI

- Prompts → System prompt text files
- Tools → Function definitions (JSON)
- Skills → Embedded in prompts

### Cursor

- Prompts → Cursor-specific format
- Tools → MCP server configurations
- Hooks → Limited support

## Common Use Cases

<Accordions>
  <Accordion title="Build for multiple providers">
    ```bash
    agentic-p build --provider claude
    agentic-p build --provider openai
    ```
  </Accordion>
  <Accordion title="CI/CD pipeline">
    ```bash
    agentic-p validate --strict
    agentic-p build --provider claude --clean
    # Deploy build/claude/ to production
    ```
  </Accordion>
  <Accordion title="Selective build">
    ```bash
    # Only rebuild hooks
    agentic-p build --provider claude --type hook
    ```
  </Accordion>
</Accordions>

## Related Commands

- [`agentic-p validate`](/docs/cli/validate) - Validate before building
- [`agentic-p install`](/docs/cli/install) - Install after building
