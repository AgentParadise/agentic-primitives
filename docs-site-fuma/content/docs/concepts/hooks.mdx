---
title: Hooks
description: Composable middleware for safety, observability, and policy enforcement
---

import { Callout } from 'fumadocs-ui/components/callout';

## What are Hooks?

Hooks are **middleware components** that intercept and process lifecycle events in your AI workflows.

## Hook Types

| Hook Type | Trigger | Use Case |
|-----------|---------|----------|
| `pre-tool-use` | Before tool execution | Validation, rate limiting |
| `post-tool-use` | After tool execution | Logging, caching |
| `user-prompt` | On user input | PII filtering, moderation |
| `session-start` | Session begins | Authentication, setup |
| `session-end` | Session ends | Cleanup, analytics |

## Example Hook

```yaml
# analytics.hook.yaml
spec_version: "v1"
type: hook
name: analytics
event_type: post-tool-use

triggers:
  - tool: "*"

config:
  async: true
  timeout_ms: 5000

implementation:
  runtime: python
  handler: hooks/analytics.py
```

<Callout type="info">
Hooks run in a sandboxed environment with UV for dependency isolation.
</Callout>

## Learn More

See the [Create a Hook](/docs/guides/create-hook) guide for step-by-step instructions.
