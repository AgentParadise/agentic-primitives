---
title: Plugin Installation
description: How to install, manage, and develop plugins for Claude Code agents
---

import { Callout } from 'fumadocs-ui/components/callout';
import { Tab, Tabs } from 'fumadocs-ui/components/tabs';
import { Step, Steps } from 'fumadocs-ui/components/steps';

## Overview

Plugins bundle commands, skills, and hooks into installable packages. Each plugin has:

- A manifest at `.claude-plugin/plugin.json` (name, version, description)
- Optional `hooks/hooks.json` defining lifecycle hooks
- Optional `commands/` directory with slash commands
- Optional `skills/` directory with agent skills

## Plugin Structure

```
plugins/sdlc/
├── .claude-plugin/
│   └── plugin.json          # Manifest (name, version, description)
├── hooks/
│   ├── hooks.json           # Hook definitions (uses ${CLAUDE_PLUGIN_ROOT})
│   ├── handlers/            # Hook handler scripts
│   └── validators/          # Security validators
├── commands/                # Slash commands (*.md files)
├── skills/                  # Agent skills
├── CHANGELOG.md             # Required by validation
└── README.md
```

## Installation Methods

### Local Install (Just)

<Steps>
  <Step>
    ### List available plugins

    ```bash
    just plugin-list
    ```

    Output:
    ```
    Available plugins (5):

      docs         v1.0.0  Documentation tools — Fumadocs integration...
      meta         v1.0.0  Primitive generators — tools that create...
      research     v1.0.0  Information gathering — web scraping...
      sdlc         v1.0.0  Software Development Lifecycle — commit...
      workspace    v1.0.0  Observable isolated workspaces — lifecycle...
    ```
  </Step>
  <Step>
    ### Install a plugin

    <Tabs items={['Project Scope', 'Global Scope']}>
      <Tab value="Project Scope">
        ```bash
        just plugin-install sdlc
        ```
        Installs to `.claude/plugins/cache/` and updates `.claude/settings.json`.
      </Tab>
      <Tab value="Global Scope">
        ```bash
        just plugin-install sdlc --global
        ```
        Installs to `~/.claude/plugins/cache/` and updates `~/.claude/settings.json`.
      </Tab>
    </Tabs>
  </Step>
  <Step>
    ### Verify

    ```bash
    just plugin-validate
    ```
  </Step>
</Steps>

### Remote Install (Claude Code Marketplace)

The repository includes a `.claude-plugin/marketplace.json` that indexes all plugins. Once the repo is pushed to GitHub:

```bash
# Add the marketplace (one-time)
/plugin marketplace add AgentParadise/agentic-primitives

# Install individual plugins
/plugin install sdlc@agentic-primitives
/plugin install workspace@agentic-primitives
```

## How Hook Merging Works

When a plugin is installed, its `hooks/hooks.json` is merged into the target `settings.json`:

1. Each hook entry in the plugin uses `${CLAUDE_PLUGIN_ROOT}` for paths
2. On install, these are rewritten to the actual cache path
3. Each merged hook is tagged with `"_plugin": "agentic-primitives/{name}"`
4. On uninstall, only hooks with matching tags are removed
5. Manually-configured hooks are never touched

<Callout type="info" title="Idempotent">
Reinstalling a plugin removes its old hooks first, then re-adds them. Hooks are never duplicated.
</Callout>

### Example: Before and After Install

**Plugin's `hooks/hooks.json`:**
```json
{
  "hooks": {
    "PreToolUse": [{
      "matcher": "",
      "hooks": [{
        "type": "command",
        "command": "python ${CLAUDE_PLUGIN_ROOT}/hooks/handlers/pre-tool-use.py",
        "timeout": 10
      }]
    }]
  }
}
```

**After `just plugin-install sdlc`, in `.claude/settings.json`:**
```json
{
  "hooks": {
    "PreToolUse": [{
      "matcher": "",
      "hooks": [{
        "type": "command",
        "command": "python /path/to/.claude/plugins/cache/agentic-primitives/sdlc/local/hooks/handlers/pre-tool-use.py",
        "timeout": 10,
        "_plugin": "agentic-primitives/sdlc"
      }]
    }]
  },
  "enabledPlugins": {
    "agentic-primitives/sdlc": true
  }
}
```

## Uninstalling

```bash
# Project scope
just plugin-uninstall sdlc

# Global scope
just plugin-uninstall sdlc --global
```

This removes:
- The cached plugin files
- All hooks tagged with `_plugin: "agentic-primitives/{name}"`
- The `enabledPlugins` entry

## Available Plugins

### sdlc (v1.0.0)

Software Development Lifecycle primitives.

| Type | Items |
|------|-------|
| **Commands** | `push`, `merge`, `review`, `fetch`, `merge-cycle` |
| **Skills** | `commit`, `review`, `pre-commit-qa`, `qa-setup`, `testing-expert`, `prioritize`, `centralized-configuration` |
| **Hooks** | `PreToolUse` (security validation), `UserPromptSubmit` (prompt validation) |
| **Validators** | Bash command safety, file path protection, PII detection |
| **Git Hooks** | `post-commit`, `post-checkout`, `post-merge`, `post-rewrite`, `pre-push` |

### workspace (v1.0.0)

Observable isolated workspaces with lifecycle hooks.

| Type | Items |
|------|-------|
| **Hooks** | `PostToolUse`, `Notification`, `SessionStart`, `SessionEnd`, `PreCompact`, `Stop`, `SubagentStop`, `UserPromptSubmit` |

All workspace hooks emit structured JSONL events and never block operations.

### meta (v1.0.0)

Primitive generators — no hooks, commands only.

| Type | Items |
|------|-------|
| **Commands** | `create-command`, `create-prime`, `create-doc-sync` |

### research (v1.0.0)

Information gathering tools.

| Type | Items |
|------|-------|
| **Commands** | `doc-scraper` |
| **Tools** | `firecrawl` (web scraping) |

### docs (v1.0.0)

Documentation tools.

| Type | Items |
|------|-------|
| **Skills** | `fuma` (Fumadocs integration) |

## Validation

All plugins are validated before installation. Run manually with:

```bash
just plugin-validate
```

Validation checks:
- `.claude-plugin/plugin.json` exists with required fields (`name`, `version`, `description`)
- Version follows SemVer format (`X.Y.Z`)
- `CHANGELOG.md` exists and is non-empty
