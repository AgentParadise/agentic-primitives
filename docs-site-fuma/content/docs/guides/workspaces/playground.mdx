---
title: Playground
description: Interactive testing environment for running agents with live OTel events
---

import { Callout } from 'fumadocs-ui/components/callout';
import { Accordions, Accordion } from 'fumadocs-ui/components/accordion';

The Playground is an interactive CLI for testing agents with real-time OpenTelemetry event visualization.

## Quick Start

```bash
cd playground
uv run python run.py "Create a hello world script"
```

With live event display:

```bash
uv run python run.py "Create a hello world script" --live
```

## CLI Options

| Option | Short | Description |
|--------|-------|-------------|
| `--live` | `-l` | Show inline OTel events in terminal |
| `--tui` | `-t` | Use otel-tui for visualization |
| `--local` | | Use local provider instead of Docker |
| `--scenario` | `-s` | Scenario name from `scenarios/` directory |
| `--verbose` | `-v` | Enable verbose output |
| `--otel-port` | | OTLP receiver port (default: 4317) |

## Live Event Display (`--live`)

The `--live` flag starts an OTLP receiver and displays events inline as they occur:

```bash
uv run python run.py "List Python files" --live
```

Output:

```
ðŸš€ Agentic Playground
Session: abc-123-def

[session_started] Started at 2024-12-20T10:30:00
[tool_execution_started] Tool: Glob, Input: {"pattern": "**/*.py"}
[tool_execution_completed] Tool: Glob, Success: true
[message_completed] Tokens: 150 in, 45 out
[session_completed] Duration: 4.2s

âœ… Success (4.2s, exit code 0)
Events: 5 total
```

## otel-tui Visualization (`--tui`)

For richer visualization, use `--tui` with Docker Compose:

```bash
# Terminal 1: Start otel-tui
docker compose up -d

# Terminal 2: Run agent
uv run python run.py "Review this code" --tui
```

<Callout type="info">
The `--tui` flag assumes otel-tui is running via Docker Compose on port 4317.
</Callout>

## Local Execution (`--local`)

Skip Docker and run directly on your machine:

```bash
uv run python run.py "List files" --local
```

<Callout type="warning">
Local execution has no isolation. The agent runs with your user permissions and can access your filesystem.
</Callout>

## Using Scenarios

Scenarios configure agent execution. Use built-in scenarios or create your own:

```bash
# Use default scenario
uv run python run.py "Create a script"

# Use security-audit scenario (read-only tools)
uv run python run.py "Review this code for vulnerabilities" --scenario security-audit

# Use quick-task scenario (faster timeout)
uv run python run.py "What is 2+2?" --scenario quick-task
```

List available scenarios:

```bash
uv run python run.py scenarios
```

## Example Session

Here's a complete example running an agent with live events:

```bash
$ uv run python run.py "Create a Python script that prints hello world" --live --verbose

âœ“ Loaded scenario: Default

ðŸš€ Agentic Playground
Session: f3130d93-f90b-41d2-bea5-f83f4073968f

âœ“ OTLP receiver started on port 4317

[session_started] Started at 2024-12-20T17:42:30
[tool_execution_started] Tool: Write, Input: {"path": "hello.py", ...}
[tool_execution_completed] Tool: Write, Success: true
[message_completed] Tokens: 180 in, 65 out
[session_completed] Duration: 3.2s

âœ… Success (3.2s, exit code 0)
Events: 5 total

Created files:
  â€¢ hello.py
```

## Programmatic Usage

Use the playground components in your own code:

```python
from playground.src.config import load_scenario
from playground.src.executor import AgentExecutor

# Load a scenario
config = load_scenario("default")

# Override provider for local testing
config.isolation.provider = "local"

# Create executor
executor = AgentExecutor(
    config=config,
    otel_endpoint="http://localhost:4317",
)

# Run task
result = await executor.run("Create hello.py")

print(f"Success: {result.success}")
print(f"Duration: {result.duration_seconds}s")
print(f"Created: {result.created_files}")
```

## Troubleshooting

<Accordions>
  <Accordion title="No events showing with --live">
    Ensure the OTLP receiver port (default 4317) is not in use. Try a different port:

    ```bash
    uv run python run.py "task" --live --otel-port 4318
    ```
  </Accordion>
  <Accordion title="Docker container not starting">
    Build the workspace image first:

    ```bash
    docker build -t agentic-workspace-claude-cli:latest \
      providers/workspaces/claude-cli/
    ```
  </Accordion>
  <Accordion title="ANTHROPIC_API_KEY not found">
    Set your API key in the environment:

    ```bash
    export ANTHROPIC_API_KEY=sk-ant-...
    # Or source from .env
    source .env
    ```
  </Accordion>
</Accordions>

## Next Steps

- [Docker Isolation](./docker) â€” Container security and configuration
- [Session Recording](./recording) â€” Capture sessions for testing
- [Scenarios](./scenarios) â€” Configure execution with YAML
